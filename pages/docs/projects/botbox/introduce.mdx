import { FileTree } from "nextra-theme-docs";

# botbox

- UWB를 이용해 추종 가능한 운반로봇
- 작업자를 따라다니고 작업자가 필요한 장소로 수확물 및 기자재를 옮겨줌

## 구축 환경

- VSC(VisualStudioCode)와 오픈소스 기반 FreeRTOS를 사용하여 개발
- 한정된 MCU 자원에서 Task라는 작업 함수를 기반으로 최대한 효율적으로 자원 사용
- R&D 중 지속적으로 변경되는 메인보드에 대하여 환경설정 파일에서 버전으로 관리

## 구성

botbox 프로젝트는 다음과 같이 2종의 모듈로 구성된다.

- botbox: botbox 자체 메인로직을 담당
- UWB : botbox 추종 역할의 데이터를 송수신 하는 3개의 UWB 로직을 담당

## 모듈별 메뉴얼

### botbox

botbox 내에는 자체적으로 제작한 2개의 라이브러리가 존재

- Motor
  - botbox의 모터 감, 가속을 포함한 모터의 움직임을 담당
  - 감, 가속의 속도 그래프를 조정할 수 있음
  - 급정거 혹은 메인로직에서 수행하는 모터 동작의 오류를 처리
- Ultrasonic
  - 차량용 초음파 펄스를 해킹하여 제작한 라이브러리 및 UART 초음파를 송신함
  - 초음파 값의 예외처리나 타임아웃을 담당
  - VER이라는 파라미터를 받아 원하는 초음파 버전에 대하여 데이터를 받아 올 수 있음

이외 메인로직에서는 크게 4가지의 모듈이 동작함

- mainLogic
  - 전체 메인 코드의 흐름을 담당
  - 로봇으로 들어오는 모든 input, output을 관리
  - 전체적인 로봇의 흐름을 제어함
- manualLogic
  - 로봇의 수동조작 모드일때 동작하는 로직
  - 리모컨의 RC값을 수신하여 동작함
- followLogic
  - 로봇의 자동조작 모드일때 동작하는 로직
  - UWB, 초음파 값을 수신하여 동작함
- printLogLogic
  - 테스트 및 디버그시 필요한 Log를 담당하는 로직

### UWB

botbox의 메인로직에서 로봇이 추종을 할 때 필요한 값을 계산하여 로봇으로 송신함
