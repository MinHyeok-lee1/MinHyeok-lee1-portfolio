# 개발 용어

## 클라이언트사이드렌더링\_CSR(Client Side Rendering), 서버사이드렌더링\_SSR(Server Side Rendering)

### CSR

Client Side Rendering의 약자이다.  
렌더링이 클라이언트 사이드에서 일어난다.

1. 서버는 요청을 받으면 클라이언트에 HTML과 JS를 보내준다.
2. 클라이언트는 그것을 받아 렌더링을 시작한다.

CSR 순서

1. User가 Website에 페이지에 대한 요청을 보낸다.
2. CDN이 HTML 파일과 JS로 접근할 수 있는 링크를 클라이언트 사이드로 보낸다.
   CDN : aws의 cloudflare와 같이 엔드 유저의 요청에 '물리적'으로 가까운 서버에서 요청에 응답하는 방식이다.
3. 클라이언트는 HTML과 JavaScript를 다운로드 받는다. (이때 SSR과 달리 유저는 아무것도 볼 수 없다)
4. 다운로드가 완료된 JavaScript가 실행되고 데이터를 위한 API가 호출된다. (이때 placeholder 및 datafetching전 데이터를 본다)
5. 서버가 API로부터의 요청에 응답한다.
6. API로부터 받아온 data를 placeholder 및 datafetching 전 자리에 넣어준다. 이제 페이지는 상호작용이 가능해진다.

즉, 서버에서 처리 없이 클라이언트로 보내주기 때문에 자바스립트가 모두 다운로드 되고 실행이 끝나기 전까지 사용자는 볼 수 있는게 없다.

### SSR

Server Side Rendering의 약자이다.  
서버쪽에서 렌더링 준비를 끝마친 상태로 클라이언트에 전달하는 방식이다.

SSR 순서

1. User가 Website에 페이지에 대한 요청을 보낸다.
2. Server는 'Ready to Render'. 즉, 즉시 렌더링 가능한 html파일을 만들고 이때 리소스 체크, 컴파일 후 완성된 HTML 컨텐츠로 만든다.
3. 클라이언트에 전달되는 순간, 이미 렌더링 준비가 되어있기 때문에 HTML은 즉시 렌더링 되고 표시되지만 사이트 자체는 JavaScript가 읽히기 전이기 때문에 조작 불가능하다.
4. 클라이언트가 자바스크립트를 다운로드받는다.
5. 다운로드 받아지고 있는 사이에 유저는 컨텐츠는 볼 수 있지만 사이트를 조작 할 수는 없고 이때의 사용자 조작을 기억하고 있는다.
6. 브라우저가 JavaScript프레임워크를 실행한다.
7. JavaScript까지 성공적으로 컴파일 되었기 때문에 기억하고 있던 사용자 조작이 실행되고 이제 웹 페이지는 상호작용 가능해진다.

즉. 서버에서 이미 '렌더 가능한' 상태로 클라이언트에 전달되기 때문에, JavaScript가 다운로드 되는 동안 사용자는 무언가를 보고 있을 수 있다.

### CSR vs SSR

1. 웹페이지를 로딩하는 시간
   - 웹 페이지 로딩의 종류는 두 가지로 나눌 수 있다.
     - 하나는 웹 사이트의 가장 첫 페이지를 로딩하는 것.
       - 첫 페이지 로딩시간
         - CSR의 경우 HTML, CSS와 모든 스크립트들을 한 번에 불러온다. 반면 SSR은 필요한 부분의 HTML과 스크립트만 불러오게 된다.
         - 따라서 평균적으로 SSR이 더 빠르다.
     - 다른 하나는 나머지를 로딩하는 것
       - 나머지 로딩 시간
         - 첫 페이지를 로딩한 후, 사이트의 다른 곳으로 이동하는 식의 동작을 가정하자. CSR은 이미 첫 페이지 로딩할 때 나머지 부분을 구성하는 코드를 받아왔기 때문에 빠르다.
         - 반면, 첫 페이지를 로딩한 과정을 정확하게 다시 실행하는 SSR이 더 느리다.
2. SEO 대응
   - 검색 엔진은 자동화된 로봇인 '크롤러'로 웹 사이트들을 읽는다
   - CSR은 자바스크립트를 실행시켜 동적으로 컨텐츠가 생성되기 때문에 자바스크립트가 실행 되어야 meatadata가 바뀌었다.
   - 이전 크롤러들은 자바스크립트를 실행시키지 않았었기에 SEO 최적화가 필수적이었지만 구글이 그 트렌드를 바꾸고 있다고 하지만 아직 SEO 최적화를 해야 크롤러에 더 빨리 크롤링될 수 있다.
   - 애초에 서버 사이드에서 컴파일되어 클라이언트로 넘어오기 때문는 SSR이 크롤러에 대응하기 용이하다.
3. 서버 자원 사용
   - 매번 서버에 요청을 하기 때문에 SSR이 서버 자원을 더 많이 사용한다.
   - 반면 클라이언트에서 모든 작업을 처리하는 CSR이 서버에 부하가 적다.

### 정리

1. 클라이언트 사이드 렌더링(Client Side Rendering)
   - 클라이언트 사이드 렌더링은 클라이언트인 브라우저가 렌더링을 처리하는 방식이다.
   - 서버에서 받은 데이터를 통해 클라이언트인 브라우저가 화면을 그리는 주체이다.
   - 장점
     - 네이티브 앱과 비슷한 빠른 인터렉션을 구현할 수 있다.
     - 렌더링을 브라우저에게 담당시킴으로서 서버 트래픽을 감소시키고, 사용자에게 더 빠른 인터렉션을 제공해 준다.
     - 새로고침이 발생하지 않아 사용자가 네이티브 앱과 비슷한 경험을 할 수 있다.
   - 단점
     - 첫 페이지 로딩 속도가 서버 사이드 렌더링에 비해 다소 느리다.
     - 서버에 첫 요청 시 전체 페이지에 대한 모든 문서 파일을 받다 보니 서버 사이드 렌더링보다 로딩 속도가 느리다.
     - 검색엔진최적화(SEO)에 대한 추가 보완 작업이 필요하다.
     - 포털사이트 검색엔진 크롤러가 웹사이트에 대한 데이터를 제대로 수집하지 못하는 경우가 발생할 수 있다.
     - 구글의 검색엔진의 경우 자바스크립트 엔진이 내장되어 있어 크롤링이 되지만, 네이버, 다음의 경우 검색엔진이 제대로 크롤링하지 못하기 때문에 별도의 보완작업이 필요하다. (예, sitemap 문서 작성)
2. 서버 사이드 렌더링(Server Side Rendering)
   - 서버 사이드 렌더링은 클라이언트(브라우저)가 서버에 매번 데이터를 요청하여 서버에서 처리하는 방식이다.
   - 클라이언트에서 요청이 들어올 때마다 매번 서버에서 새로운 화면을 만들어 제공한다.
   - 서버가 화면을 그리는 주체이다.
   - 장점
     - 첫 페이지 로딩 속도가 클라이언트 사이드 렌더링에 비해 더 빠르다.
     - 해당 첫 페이지에 해당하는 문서만 브라우저에게 전달하여 브라우저가 렌더링하기 때문에 초기 로딩 속도가 클라이언트 사이드 렌더링에 비해 더 빠르다.
     - 검색엔진최적화(SEO)가 가능하다.
   - 단점
     - 초기 로딩 이후 페이지 이동 시 속도가 느리다.
     - 페이지 이동 시마다 클라이언트가 서버에게 필요한 데이터를 요청하고 응답해주는 방식이다 보니 속도가 느리다.

## 단일 페이지 어플리 케이션: Single Page Application(SPA)

- 싱글 페이지 애플리케이션은 서버로부터 완전한 새로운 페이지를 불러오지 않고 현재의 페이지를 동적으로 다시 작성함으로써 사용자와 소통하는 웹 애플리케이션이나 웹사이트를 말한다.

## 검색엔진최적화: Search Engine Optimization(SEO)

- 검색 엔진 최적화는 검색 엔진으로부터 웹사이트나 웹페이지에 대한 웹사이트 트래픽의 품질과 양을 개선하는 과정이다.
- 웹 페이지 검색엔진이 자료를 수집하고 순위를 매기는 방식에 맞게 웹 페이지를 구성해서 검색 결과의 상위에 나올 수 있게 한다.

## 유니코드 (ISO-10646)

1. 흔히 Unicode라고 불리는 문자세트와 그 부호화에 대해서 정의하고 있는 표준이다.
2. 유니코드는 전 세계 문자 인코딩 표준이다. 시스템은 문자 및 문자열 조작에만 유니코드를 사용합니다.
3. 유니코드는 전 세계의 모든 문자를 컴퓨터에서 일관되게 표현하고 다룰 수 있도록 설계된 산업 표준이다.
4. 유니코드는 유니코드 협회가 제정한다. 또한 이 표준에는 ISO 10646 문자 집합, 문자 인코딩, 문자 정보 데이터베이스, 문자들을 다루기 위한 알고리즘 등을 포함하고 있다.
5. 코드 포인트에 의해 각 문자의 위치가 표시되어 숫자 값이 할당되며 앞에 U+를 붙이고 뒤에 16진수 값으로 표현한다.

## UTF-8

1. UTF-8은 유니코드를 위한 가변 길이 문자 인코딩 방식중의 하나이다.
2. 한 문자를 나타내기 위해 1~4바이트를 가변적으로 사용한다.
3. (U+0000 ~ U+FFFF): 기본다국어평면(BMP, Basic Multilingual Plane)에 속하는 문자들

- ASCII (영문, 공백문자, 기호 등), 1바이트 (128문자로 인코딩) (U+0000 ~ U+007F)
- 로마 / 그리스 / 아랍문자, 2바이트 (1,920 문자로 인코딩)
- 중국 / 일본 / 한국 등 아시아계 3바이트

4. UTF-8은 유닉스, HTML, 웹페이지 등에서 주로 사용된다.

## UTF-16

1. UTF-16은 유니코드 문자 인코딩 방식의 하나이다. 4 바이트로 표현된다. (1,114,112 문자로 인코딩)
2. 주로 사용되는 기본 다국어 평면 에 속하는 문자들은 그대로 16비트 값으로 인코딩이 되고 그 이상의 문자는 특별히 정해진 방식으로 32비트로 인코딩이 된다.
3. 유니코드로 정해진 표현 범위를 넘어서는 것도 표현 가능하다. (특수 한자,이모티콘 등)
4. UTF-16은 MS(MicroSoft)사 윈도우 계열, 자바 언어, 자바스크립트 언어 등에서 사용한다.
5. (U+0000 ~ U+FFFF): 기본다국어평면(BMP, Basic multilingual plane)에 속하는 문자들이다.
   - 이 범위에 속하는 문자들 만 그대로 16 비트(2 바이트) 값으로 인코딩이 된다.
   - 그 이상의 문자는 아래와 같이 특별히 정해진 방식으로 32 비트(4 바이트)로 인코딩된다.
6. (U+10000 ~)
   - U+10000 이상은 서로게이트 영역(Surrogate)이다.
   - 인코딩 값(2 바이트) 2개를 합쳐 구성됨
   - 즉, 기본 다국어 평면에 포함되지 않는 문자(16 비트로 값을 표현할 수 없는 문자들)은 서로게이트(Surrogate) 문자 영역에 해당하는 2개의 16 비트 문자로 변환되어 이 한 쌍(즉, 32비트)이 그 문자를 나타내게 된다.

서로게이트 쌍(Surrogate Pair)에 의한 유니코드의 코드 포인트 값의 계산법이다.

```
u = (a - 0xD800) * 0x400 + (b - 0xDC00) + 0x10000
```

(a : 상위 서로게이트 U+D800 ~ U+DBFF, b : 하위 서로게이트)

## 서로게이트쌍

1. 서로게이트쌍은 보조문자를 표현할 때 사용한다.
2. 보조 문자는 BMP를 벗어나는 문자이고 "서로게이트"는 UTF-16 코드 값이다. (U+10000 이상)
3. UTF-16의 경우 단일 보조 문자를 나타내려면 "서로게이트 쌍"이 필요하다.
4. 첫 번째(높음) 서로게이트는 U+D800~U+DBFF 범위의 16비트 코드 값이다.
5. 두 번째(낮은) 서로게이트는 U+DC00에서 U+DFFF 범위의 16비트 코드 값이다.
6. 서로게이트 메커니즘을 사용하여 UTF-16은 1,114,112개의 잠재적 유니코드 문자를 모두 지원할 수 있다.
