# â˜¸ï¸ Kubernetes(K8s) ê°œë°œ í™˜ê²½ ì„¤ì • ê°€ì´ë“œ

## âœ… 1. Kubernetesë€?

KubernetesëŠ” **ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.  
ìˆ˜ë§ì€ Docker ì»¨í…Œì´ë„ˆë¥¼ **ìë™ ë°°í¬, í™•ì¥, ë¡œë“œë°¸ëŸ°ì‹±, ë³µêµ¬**ê¹Œì§€ ê´€ë¦¬í•´ì¤ë‹ˆë‹¤.

> ì˜ˆ: "ì„œë¹„ìŠ¤ê°€ ë§ì•„ì ¸ì„œ docker-composeë¡œ ê°ë‹¹ì´ ì•ˆ ëœë‹¤ë©´ â†’ Kubernetes ì‚¬ìš©"

---

## âœ… 2. ì„¤ì¹˜ ë°©ë²•

### ğŸ“ ë¡œì»¬ ì„¤ì¹˜ (ê°œë°œìš©)

* **Minikube**: ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ë¡œì»¬ìš© K8s í™˜ê²½

  ```bash
  # ì„¤ì¹˜
  brew install minikube     # (macOS)
  sudo apt install minikube # (Ubuntu)

  # ì‹¤í–‰
  minikube start
  ```

* **Docker Desktop (Windows/macOS)**
  Kubernetes íƒ­ì—ì„œ â€œEnable Kubernetesâ€ ì˜µì…˜ ì²´í¬ í›„ ì‹œì‘

---

## âœ… 3. CLI ë„êµ¬: kubectl

```bash
# ì„¤ì¹˜
brew install kubectl          # macOS
sudo apt install kubectl -y   # Ubuntu

# í´ëŸ¬ìŠ¤í„° í™•ì¸
kubectl cluster-info

# ë…¸ë“œ í™•ì¸
kubectl get nodes
```

---

## âœ… 4. ê¸°ë³¸ ê°œë… êµ¬ì¡°

```
Cluster
 â””â”€â”€ Node (ì‹¤ì œ ë¨¸ì‹ )
      â””â”€â”€ Pod (ì»¨í…Œì´ë„ˆ ì§‘í•©)
           â””â”€â”€ Container (Docker ë“±)
```

---

## âœ… 5. í”„ë¡œì íŠ¸ êµ¬ì„± ì˜ˆì‹œ

```
my-k8s-app/
â”œâ”€â”€ deployment.yaml
â”œâ”€â”€ service.yaml
â”œâ”€â”€ configmap.yaml
â””â”€â”€ ingress.yaml
```

---

## âœ… 6. ë°°í¬ ì˜ˆì‹œ (Python Flask)

### ğŸ“ deployment.yaml

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: flask-app
spec:
  replicas: 2
  selector:
    matchLabels:
      app: flask
  template:
    metadata:
      labels:
        app: flask
    spec:
      containers:
        - name: flask
          image: yourname/flask-app:latest
          ports:
            - containerPort: 5000
```

### ğŸ“ service.yaml

```yaml
apiVersion: v1
kind: Service
metadata:
  name: flask-service
spec:
  type: NodePort
  selector:
    app: flask
  ports:
    - protocol: TCP
      port: 80
      targetPort: 5000
      nodePort: 30001
```

---

## âœ… 7. ë°°í¬ ì‹¤í–‰

```bash
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml

kubectl get pods
kubectl get services
```

---

## âœ… 8. ìì£¼ ì“°ëŠ” ëª…ë ¹ì–´

```bash
# ëª¨ë“  ë¦¬ì†ŒìŠ¤ í™•ì¸
kubectl get all

# Pod ìƒíƒœ í™•ì¸
kubectl describe pod <POD_NAME>

# Pod ë¡œê·¸ í™•ì¸
kubectl logs <POD_NAME>

# Pod ì ‘ì†
kubectl exec -it <POD_NAME> -- /bin/bash

# ë¦¬ì†ŒìŠ¤ ì‚­ì œ
kubectl delete -f deployment.yaml
```

---

## âœ… 9. ConfigMap & Secret

í™˜ê²½ ë³€ìˆ˜, ì„¤ì •ê°’ ë“±ì„ ê´€ë¦¬í•  ë•Œ ì‚¬ìš©

```yaml
# configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
data:
  ENV: production
```

Podì—ì„œ ì°¸ì¡°í•˜ë ¤ë©´ `envFrom`, `env` í‚¤ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŒ

---

## âœ… 10. Ingress (ë„ë©”ì¸ ë¼ìš°íŒ… ì„¤ì •)

```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: app-ingress
spec:
  rules:
    - host: myapp.local
      http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: flask-service
                port:
                  number: 80
```

> ë¡œì»¬ì—ì„œëŠ” `ingress-nginx` ì„¤ì¹˜ í›„ `/etc/hosts`ì— ë„ë©”ì¸ ë“±ë¡ í•„ìš”

---

## âœ… 11. Helm (íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €)

```bash
# ì„¤ì¹˜
brew install helm

# ì˜ˆì‹œ: Nginx ì„¤ì¹˜
helm repo add bitnami https://charts.bitnami.com/bitnami
helm install my-nginx bitnami/nginx
```

---

## âœ… 12. ê°œë°œ í™˜ê²½ì—ì„œ ì£¼ì˜í•  ì 

* ë¡œì»¬ KubernetesëŠ” ì‹¤ì œ ìš´ì˜ í™˜ê²½ê³¼ ì¼ë¶€ ì°¨ì´ ìˆìŒ
* ë¦¬ì†ŒìŠ¤ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•´ `kubectl delete` ìì£¼ ì‚¬ìš©
* Docker Hub pull ì œí•œ ì£¼ì˜ (Private Registry ê¶Œì¥)

---

## âœ… 13. ì¶”ì²œ ë¡œì»¬ ë„êµ¬

| ë„êµ¬       | ì„¤ëª…                   |
| -------- | -------------------- |
| Lens     | K8s GUI ëŒ€ì‹œë³´ë“œ (ê°•ë ¥ ì¶”ì²œ) |
| K9s      | CLI ê¸°ë°˜ ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ ë„êµ¬   |
| Skaffold | ê°œë°œ-ë°°í¬ ìë™í™” ë„êµ¬         |
| Tilt     | ì‹¤ì‹œê°„ ì½”ë“œ ë³€ê²½ ë°˜ì˜ ë„êµ¬      |

---
